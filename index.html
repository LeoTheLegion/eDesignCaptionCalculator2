<!DOCTYPE html>
  <html>
    <head>
      <meta charset="UTF-8">
      <title>Hello World!</title>
		<script>window.$ = window.jQuery = require('jquery');</script>
    </head>
    <body>
      <h1>Hello World!</h1>
      We are using node <script>document.write(process.versions.node)</script>,
      Chrome <script>document.write(process.versions.chrome)</script>,
      and Electron <script>document.write(process.versions.electron)</script>.
		<form id="main">
			<div>
				<label for="avatar">Profile picture:</label>
				<input type="file"
					   id="zip" name="zip"
					   accept=".zip" />
				<input type="submit" value="Send Request">
			</div>
		</form>
		<div id="unzippedHtml"></div>
		<div id="target"></div>
    </body>
	<script>
		
		
		const electron = require('electron');
		const {ipcRenderer} = require('electron')
		
		function getTableData (table,x,y){
			var rows = $(table).children('tbody').children('tr').toArray();
			var col = $(rows[y]).children('td').toArray()
			return $(col[x]).text();
		}
		
		document.getElementById('main').onsubmit = e => {
		   e.preventDefault();
		   const {ipcRenderer} = require('electron')
		   file = document.getElementById('zip').files[0].path
		   ipcRenderer.send('file.zip', file);
		};
		
		ipcRenderer.on('file.html', function (event, htmlFILE) {
			console.log( "Ren: "+htmlFILE );
			var s = htmlFILE + " table";
			$('#unzippedHtml').load(s);
			
			
		});
		
		$('#unzippedHtml').bind("DOMSubtreeModified",function(){
		  //alert('changed');
		   var table =  $('#unzippedHtml table:nth-child(2)');
			console.log( getTableData(table,1,1) );
		});
		
	</script>
  </html>